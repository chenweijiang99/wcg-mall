<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chenweijiang.wcg_mall.mapper.OrderMapper">


    <insert id="save">
    insert into `order`
    <trim prefix="(" suffix=")" suffixOverrides=",">
        <if test="orderNumber != null">
        order_number,
        </if>
        <if test="status != null">
        status,
        </if>
        <if test="userId != null">
        user_id,
        </if>
        <if test="consignee != null">
        consignee,
        </if>
        <if test="consigneeAddress != null">
        consignee_address,
        </if>
        <if test="consigneePhone != null">
        consignee_phone,
        </if>
        <if test="email != null">
        email,
        </if>
        <if test="payMethod != null">
        pay_method,
        </if>
        <if test="payStatus != null">
        pay_status,
        </if>
        <if test="amount != null">
        amount,
        </if>
        <if test="orderTime != null">
        order_time,
        </if>
        <if test="checkoutTime != null">
        checkout_time,
        </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
        <if test="orderNumber != null">
        #{orderNumber},
        </if>
        <if test="status != null">
        #{status},
        </if>
        <if test="userId != null">
        #{userId},
        </if>
        <if test="consignee != null">
        #{consignee},
        </if>
        <if test="consigneeAddress != null">
        #{consigneeAddress},
        </if>
        <if test="consigneePhone != null">
        #{consigneePhone},
        </if>
        <if test="email != null">
        #{email},
        </if>
        <if test="payMethod != null">
        #{payMethod},
        </if>
        <if test="payStatus != null">
        #{payStatus},
        </if>
        <if test="amount != null">
        #{amount},
        </if>
        <if test="orderTime != null">
        #{orderTime},
        </if>
        <if test="checkoutTime != null">
        #{checkoutTime},
        </if>
    </trim>
    </insert>

    <update id="update">
        update `order`
        <set>
         <if test="status != null">
            status = #{status},
        </if>
            <if test="consignee != null">
            consignee = #{consignee},
        </if>
            <if test="consigneeAddress != null">
            consignee_address = #{consigneeAddress},
        </if>
            <if test="consigneePhone != null">
            consignee_phone = #{consigneePhone},
        </if>
            <if test="email != null">
            email = #{email},
        </if>
            <if test="payMethod != null">
                pay_method = #{payMethod},
            </if>
            <if test="payStatus != null">
                pay_status= #{payStatus},
            </if>

            <if test="amount != null">
            amount = #{amount},
            </if>
            <if test="checkoutTime != null">
                checkout_time = #{checkoutTime}
            </if>

        </set>
            where order_number = #{orderNumber} and id = #{id}

    </update>
</mapper>
