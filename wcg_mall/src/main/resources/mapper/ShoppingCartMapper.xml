<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chenweijiang.wcg_mall.mapper.ShoppingCartMapper">
    <update id="updateShoppingCart">
        update shopping_cart
        <set>
            <if test="number != null">
                number = #{number}
            </if>

        </set>
        where user_id = #{userId}
        and product_id = #{productId}
    </update>


    <select id="listByUserId" resultType="com.chenweijiang.wcg_mall.pojo.vo.ShoppingCartVO">
        select s.id as id,user_id,product_id,number,p.name as productName,p.price as productPrice, p.image as productImage from shopping_cart as s,product as p where s.user_id = #{userId} and s.product_id = p.id
    </select>
</mapper>
